@import 'tailwindcss';

:root {
	/* Division Colors */
	--color-rocket-red: #FF4444;
	--color-electric-blue: #4488FF;
	--color-neural-purple: #9944FF;
	--color-tunnel-orange: #FF8844;
	--color-bio-green: #44FF88;
	--color-sky-cyan: #44DDFF;
	--color-solar-gold: #FFCC44;

	/* UI Colors */
	--color-bg-primary: #0f1729;
	--color-bg-secondary: #1a2332;
	--color-bg-tertiary: #243044;
	--color-text-primary: #e8ecf1;
	--color-text-secondary: #8899aa;
	--color-text-muted: #7a8a9e;
	--color-accent: #4488FF;
	--color-success: #44FF88;
	--color-warning: #FFCC44;
	--color-danger: #FF4444;

	/* Border colors for themed borders */
	--color-border: rgba(255, 255, 255, 0.05);
	--color-border-hover: rgba(255, 255, 255, 0.1);
}

@theme {
	--color-rocket-red: #FF4444;
	--color-electric-blue: #4488FF;
	--color-neural-purple: #9944FF;
	--color-tunnel-orange: #FF8844;
	--color-bio-green: #44FF88;
	--color-sky-cyan: #44DDFF;
	--color-solar-gold: #FFCC44;

	--color-bg-primary: #0f1729;
	--color-bg-secondary: #1a2332;
	--color-bg-tertiary: #243044;
	--color-text-primary: #e8ecf1;
	--color-text-secondary: #8899aa;
	--color-text-muted: #7a8a9e;
}

/* Light theme overrides */
html.light {
	--color-bg-primary: #f5f6f8;
	--color-bg-secondary: #ffffff;
	--color-bg-tertiary: #e8eaef;
	--color-text-primary: #1a1a2e;
	--color-text-secondary: #4a4a5e;
	--color-text-muted: #656578;
	--color-border: rgba(0, 0, 0, 0.08);
	--color-border-hover: rgba(0, 0, 0, 0.15);

	/* Slightly adjusted division colors for light backgrounds */
	--color-rocket-red: #e53535;
	--color-electric-blue: #3070e0;
	--color-neural-purple: #7c30e0;
	--color-tunnel-orange: #d97020;
	--color-bio-green: #1aad55;
	--color-sky-cyan: #1aadcc;
	--color-solar-gold: #cc9a10;
}

/* OLED dark theme — pure blacks */
html.oled {
	--color-bg-primary: #000000;
	--color-bg-secondary: #0a0a0a;
	--color-bg-tertiary: #161616;
	--color-text-primary: #f0f0f0;
	--color-text-secondary: #8899aa;
	--color-text-muted: #7a8a9e;
	--color-border: rgba(255, 255, 255, 0.08);
	--color-border-hover: rgba(255, 255, 255, 0.15);
}

/* High Contrast mode — works with any theme */
html.high-contrast {
	--color-text-primary: #ffffff;
	--color-text-secondary: #c0c8d4;
	--color-text-muted: #8a96a6;
	--color-border: rgba(255, 255, 255, 0.2);
	--color-border-hover: rgba(255, 255, 255, 0.35);
}

html.high-contrast.light {
	--color-text-primary: #000000;
	--color-text-secondary: #2a2a3e;
	--color-text-muted: #4a4a5e;
	--color-border: rgba(0, 0, 0, 0.2);
	--color-border-hover: rgba(0, 0, 0, 0.35);
}

/* High contrast adds stronger borders globally */
html.high-contrast .border-white\/5,
html.high-contrast .border-white\/10 {
	border-color: var(--color-border) !important;
}

html.high-contrast .divide-white\/5 > :not(:first-child) {
	border-color: var(--color-border) !important;
}

/* Smooth theme transitions */
html.theme-transition,
html.theme-transition *,
html.theme-transition *::before,
html.theme-transition *::after {
	transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
	transition-delay: 0s !important;
}

html {
	background-color: var(--color-bg-primary);
	color: var(--color-text-primary);
	font-family: 'Inter', system-ui, -apple-system, sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Game mode — disable text selection globally */
* {
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	-webkit-touch-callout: none;
}

/* Re-enable for actual input fields */
input, textarea {
	-webkit-user-select: text;
	-moz-user-select: text;
	-ms-user-select: text;
	user-select: text;
}

body {
	margin: 0;
	min-height: 100vh;
	overflow-x: hidden;
	/* iOS safe areas */
	padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Responsive font scaling with clamp() */
.text-dashboard-title {
	font-size: clamp(1.125rem, 4vw, 1.5rem);
}

.text-income-display {
	font-size: clamp(1.25rem, 5vw, 1.75rem);
}

.text-resource-number {
	font-size: clamp(0.75rem, 2.5vw, 0.875rem);
}

/* Mobile-first modal fullscreen */
@media (max-width: 480px) {
	.modal-mobile-fullscreen {
		max-width: 100% !important;
		width: 100% !important;
		min-height: 100dvh !important;
		border-radius: 0 !important;
		margin: 0 !important;
	}
	
	.modal-mobile-fullscreen-container {
		padding: 0 !important;
		align-items: stretch !important;
	}
}

/* Touch-friendly defaults — manipulation disables double-tap zoom */
* {
	touch-action: manipulation;
	-webkit-tap-highlight-color: transparent;
}

/* Keyboard focus visible styles */
*:focus-visible {
	outline: 2px solid var(--color-accent);
	outline-offset: 2px;
	border-radius: 4px;
}

/* Screen reader only utility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* Scrollbar styling */
::-webkit-scrollbar {
	width: 6px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--color-bg-tertiary);
	border-radius: 3px;
}

/* Light theme specific overrides for components using white/X opacity borders */
html.light .bg-bg-primary\/90 {
	background-color: rgba(245, 246, 248, 0.92);
}

html.light .bg-bg-primary\/95 {
	background-color: rgba(245, 246, 248, 0.97);
}

html.light .border-white\/5 {
	border-color: rgba(0, 0, 0, 0.06);
}

html.light .border-white\/10 {
	border-color: rgba(0, 0, 0, 0.1);
}

html.light .divide-white\/5 > :not(:first-child) {
	border-color: rgba(0, 0, 0, 0.06);
}

html.light .bg-white\/\[0\.04\] {
	background-color: rgba(0, 0, 0, 0.03);
}

html.light .bg-white\/\[0\.06\] {
	background-color: rgba(0, 0, 0, 0.05);
}

html.light .hover\:bg-white\/\[0\.04\]:hover {
	background-color: rgba(0, 0, 0, 0.03);
}

html.light .hover\:border-white\/10:hover {
	border-color: rgba(0, 0, 0, 0.12);
}

html.light .bg-bg-secondary\/40 {
	background-color: rgba(255, 255, 255, 0.7);
}

html.light .bg-bg-secondary\/60 {
	background-color: rgba(255, 255, 255, 0.8);
}

html.light .bg-bg-tertiary\/50 {
	background-color: rgba(232, 234, 239, 0.6);
}

html.light .bg-bg-tertiary\/30 {
	background-color: rgba(232, 234, 239, 0.35);
}

html.light .bg-bg-primary\/95 {
	background-color: rgba(245, 246, 248, 0.97);
}

html.light .bg-black\/70 {
	background-color: rgba(0, 0, 0, 0.5);
}

html.light .bg-black\/50 {
	background-color: rgba(0, 0, 0, 0.35);
}

/* Light theme modal borders */
html.light .border-rocket-red\/20 {
	border-color: rgba(229, 53, 53, 0.25);
}

/* OLED specific: ensure backdrop blur still works on pure black */
html.oled .bg-bg-primary\/90 {
	background-color: rgba(0, 0, 0, 0.92);
}

html.oled .bg-bg-primary\/95 {
	background-color: rgba(0, 0, 0, 0.97);
}

html.oled .bg-bg-secondary\/40 {
	background-color: rgba(10, 10, 10, 0.6);
}

html.oled .bg-bg-secondary\/60 {
	background-color: rgba(10, 10, 10, 0.75);
}
